# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –û–ü–¢

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø—Ç–æ–≤—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ Telegram ID.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Google Sheets

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –¥–≤–∞ –Ω–æ–≤—ã—Ö –ª–∏—Å—Ç–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ (`1KMp94frXEYIwQ1Y7WTv9W03wgjf6zRLpyhEgrsirgqs`):

### 1. –õ–∏—Å—Ç "–û–ü–¢"
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–≥—É –º–∞–≥–∞–∑–∏–Ω–æ–≤:
- **–ö–æ–ª–æ–Ω–∫–∞ A**: –ì–æ—Ä–æ–¥
- **–ö–æ–ª–æ–Ω–∫–∞ B**: –ö–∞—Ç–µ–≥–æ—Ä–∏—è
- **–ö–æ–ª–æ–Ω–∫–∞ C**: –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
- **–ö–æ–ª–æ–Ω–∫–∞ D**: –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–∞–±–ª–∏—Ü—É —Ç–æ–≤–∞—Ä–æ–≤
- **–ö–æ–ª–æ–Ω–∫–∞ E**: ID –º–∞–≥–∞–∑–∏–Ω–∞ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- **–ö–æ–ª–æ–Ω–∫–∞ F**: –°—Å—ã–ª–∫–∞ –Ω–∞ 2–ì–ò–° (–¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç)
- **–ö–æ–ª–æ–Ω–∫–∞ G**: –û–ø–∏—Å–∞–Ω–∏–µ
- **–ö–æ–ª–æ–Ω–∫–∞ H**: –§–æ—Ç–æ URL

### 2. –õ–∏—Å—Ç "–î–û–°–¢–£–ü"
–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –æ–ø—Ç–æ–≤—ã–º –º–∞–≥–∞–∑–∏–Ω–∞–º:
- **–ö–æ–ª–æ–Ω–∫–∞ A**: –ì–æ—Ä–æ–¥
- **–ö–æ–ª–æ–Ω–∫–∞ B**: Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ö–æ–ª–æ–Ω–∫–∞ C**: –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ PythonAnywhere

1. –ó–∞–π–¥–∏—Ç–µ –≤ PythonAnywhere –∫–æ–Ω—Å–æ–ª—å
2. –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `flask_api_final.py`:
   ```bash
   cd ~/mysite
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π flask_api_final.py
   ```

3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - –ó–∞–π–¥–∏—Ç–µ –≤ Web tab
   - –ù–∞–∂–º–∏—Ç–µ "Reload chronosphere7777.pythonanywhere.com"

## –ù–æ–≤—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### GET /api/wholesale-shops
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã –∏–∑ –ª–∏—Å—Ç–∞ "–û–ü–¢"

**–û—Ç–≤–µ—Ç:**
```json
{
  "shops": [
    {
      "city": "–ú–æ—Å–∫–≤–∞",
      "category": "–û–¥–µ–∂–¥–∞",
      "name": "–û–ü–¢ –ú–∞–≥–∞–∑–∏–Ω 1",
      "shop_id": "opt_001",
      "spreadsheet_url": "https://docs.google.com/...",
      "description": "–û–ø—Ç–æ–≤—ã–µ –ø—Ä–æ–¥–∞–∂–∏",
      "photo_url": "https://...",
      "latitude": 55.7558,
      "longitude": 37.6173
    }
  ],
  "total": 1
}
```

### GET /api/access-list
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –ª–∏—Å—Ç–∞ "–î–û–°–¢–£–ü"

**–û—Ç–≤–µ—Ç:**
```json
{
  "access_list": [
    {
      "city": "–ú–æ—Å–∫–≤–∞",
      "telegram_id": "123456789",
      "shop_name": "–û–ü–¢ –ú–∞–≥–∞–∑–∏–Ω 1"
    }
  ],
  "total": 1
}
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

1. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç:
   - –û–±—ã—á–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã (`/api/all-shops`)
   - –û–ø—Ç–æ–≤—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã (`/api/wholesale-shops`)
   - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–∞ (`/api/access-list`)

2. –ü–æ–ª—É—á–∞–µ—Ç Telegram ID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ `window.Telegram.WebApp.initDataUnsafe.user.id`

3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ—Ä–æ–¥–∞ —Å –æ–ø—Ç–æ–≤—ã–º–∏ –º–∞–≥–∞–∑–∏–Ω–∞–º–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Å–ø–∏—Å–∫–µ –¥–æ—Å—Ç—É–ø–∞

4. –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø –µ—Å—Ç—å - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–∞—Ä–∫–µ—Ä "üíº –û–ü–¢" –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞ (–∑–æ–ª–æ—Ç–∏—Å—Ç—ã–π –≥–æ–ª–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å)

5. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –æ–ø—Ç–æ–≤—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤ —ç—Ç–æ–≥–æ –≥–æ—Ä–æ–¥–∞

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π—Ç–µ –ª–∏—Å—Ç—ã "–û–ü–¢" –∏ "–î–û–°–¢–£–ü" –≤ Google Sheets
2. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
3. –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π Telegram ID –≤ –ª–∏—Å—Ç "–î–û–°–¢–£–ü"
4. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram
5. –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∑–æ–ª–æ—Ç–∏—Å—Ç—ã–π –º–∞—Ä–∫–µ—Ä "üíº –û–ü–¢" –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ú–∞—Ä–∫–µ—Ä –û–ü–¢ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–æ Telegram ID)
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ —Ü–µ–Ω—Ç—Ä–∞ –≥–æ—Ä–æ–¥–∞ (–∏–∑ —Å–ª–æ–≤–∞—Ä—è `CITY_COORDS`)
- –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤–Ω–µ Telegram (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –±—Ä–∞—É–∑–µ—Ä–µ) –º–∞—Ä–∫–µ—Ä –Ω–µ –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –Ω–µ—Ç Telegram ID
